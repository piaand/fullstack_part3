{"version":3,"sources":["components/PersonList.js","components/PersonForm.js","components/PersonFilter.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Person","name","number","deleteThisName","onClick","PersonList","persons","map","person","id","PersonForm","addPerson","handleNewPersonChange","handleNewNumberChange","newName","newNumber","onSubmit","onChange","value","type","PersonFilter","handleNewFilterChange","newFilter","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","baseUrl","axios","get","then","response","data","personObject","post","deleteUrl","delete","console","log","updateUrl","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","error","setError","useEffect","personService","initPersons","createTempNotification","setTimeout","createTempError","event","target","preventDefault","includes","window","confirm","toBeUpdated","filter","changedPerson","updatedInfo","catch","returnedPerson","concat","filteredNames","giveFiltered","deleteCandidate","personList","decreasedArray","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91765c1a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({name, number, deleteThisName}) => (<p>{name}, {number} <button onClick={deleteThisName}>delete</button></p>)\n\nconst PersonList = ({ persons, deleteThisName }) => {\n\treturn (\n\t\t<>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<div>\n\t\t\t\t{persons.map(person =>\n\t\t\t\t\t<Person \n\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\tname={person.name}\n\t\t\t\t\t\tnumber={person.number}\n\t\t\t\t\t\tdeleteThisName={() => deleteThisName(person.id)} />)}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default PersonList","import React from 'react'\n\nconst PersonForm = ({ addPerson, handleNewPersonChange, handleNewNumberChange, newName, newNumber}) => {\n\treturn (\n\t\t<form onSubmit={addPerson}>\n\t\t\t<div>\n\t\t\t\tname: <input onChange={handleNewPersonChange} value={newName}/>\n\t\t\t\t<br/>\n\t\t\t\tnumber: <input onChange={handleNewNumberChange} value={newNumber}/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst PersonFilter = ({ handleNewFilterChange, newFilter }) => {\n\treturn (\n\t\t<form>\n\t\t\t<div>\n\t\t\t\tfilter shown with: <input onChange={handleNewFilterChange} value={newFilter}/>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\nexport default PersonFilter","import React from 'react'\n\nconst Notification = ({ message }) => {\n\tconst notificationStyle = {\n\t\tcolor: 'green',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={notificationStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n\tconst errorStyle = {\n\t\tcolor: 'red',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={errorStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Error","import React from 'react'\nimport axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => {\n\t\treturn response.data\n\t})\n}\n\nconst create = (personObject) => {\n\tconst request = axios.post(baseUrl, personObject)\n\treturn request\n\t\t.then(response => {\n\t\t\treturn response.data\n\t\t})\n}\n\nconst deleteName = (id) => {\n\tconst deleteUrl = baseUrl + '/' + id\n\tconst request = axios.delete(deleteUrl)\n\treturn request.then(response => {\n\t\tconsole.log(response)\n\t\treturn response\n\t})\n}\n\nconst updateNumber = (id, personObject) => {\n\tconst updateUrl = baseUrl + '/' + id\n\tconst request = axios.put(updateUrl, personObject)\n\treturn request.then(response => {\n\t\treturn response.data\n\t})\n}\n\nexport default {getAll, create, deleteName, updateNumber}","import React, { useState, useEffect } from 'react'\nimport PersonList from './components/PersonList'\nimport PersonForm from './components/PersonForm'\nimport PersonFilter from './components/PersonFilter'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ newFilter, setNewFilter ] = useState('')\n\tconst [ notification, setNotification ] = useState(null)\n\tconst [ error, setError ] = useState(null)\n\n\tconst hook = () => {\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(initPersons => \n\t\t\t\tsetPersons(initPersons))\n\t}\n\n\tuseEffect(hook, [])\n\tconst checkNameExist = () => persons.map(person => person.name).includes(newName)\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tif (checkNameExist()) {\n\t\t\tconst result = window.confirm(`${newName} is already in the phonebook - replace the old number with the new one?`)\n\t\t\tif (result) {\n\t\t\t\tconst toBeUpdated = persons.filter(person => person.name === newName)\n\t\t\t\tconst id = toBeUpdated[0].id\n\t\t\t\tconst changedPerson = {...toBeUpdated[0], number: newNumber}\n\t\t\t\tpersonService\n\t\t\t\t\t.updateNumber(id, changedPerson)\n\t\t\t\t\t.then(updatedInfo => {\n\t\t\t\t\t\tsetPersons(persons.map(person => person.id !== id ? person : updatedInfo))\n\t\t\t\t\t\tcreateTempNotification(`Updated number for ${changedPerson.name}`)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tcreateTempError(`Updating entry ${changedPerson.name} faced an error`)\n\t\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tconst personObject = { name: newName, number: newNumber }\n\n\t\t\tpersonService.create(personObject)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tconsole.log(\"Setting stuff\")\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\tcreateTempNotification(`Added new entry for ${personObject.name}`)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log(`Error: ${error.response.data.error}`)\n\t\t\t\t\tcreateTempError(error.message)\n\t\t\t\t})\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst giveFiltered = () => {\n\t\tconst filteredNames = persons.map(person => person.name).filter(name => name.includes(newFilter))\n\t\tconst result = persons.filter(person => filteredNames.includes(person.name))\n\t\treturn (result)\n\t}\n\n\tconst decreasedArray = (persons, id) => {\n\t\treturn persons.filter(person => person.id !== id)\n\t}\n\n\tconst deleteNameFromPhonebook = (id) => {\n\t\tconst deleteCandidate = persons.filter(person => person.id === id)\n\t\tconst message = `Should ${deleteCandidate[0].name} be deleted from the phonebook?`\n\t\tconst result = window.confirm(message)\n\t\t\n\t\tif (result) {\n\t\t\tpersonService\n\t\t\t\t.deleteName(id)\n\t\t\t\t.then(personList => {\n\t\t\t\t\tsetPersons(decreasedArray(persons, id))\n\t\t\t\t\tcreateTempNotification(`Deleted entry for ${deleteCandidate[0].name}`)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tcreateTempError(`Deletion of entry ${deleteCandidate[0].name} faced an error`)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst createTempNotification = (message) => {\n\t\tsetNotification(message)\n\t\tsetTimeout(() => {\n\t\t\tsetNotification(null)\n\t\t}, 5000)\n\t}\n\n\tconst createTempError = (message) => {\n\t\tsetError(message)\n\t\tsetTimeout(() => {\n\t\t\tsetError(null)\n\t\t}, 5000)\n\t}\n\n\tconst handleNewPersonChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNewNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleNewFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t}\n\n\treturn (\n\t  <div>\n\t\t<h2>Phonebook</h2>\n\t\t<Notification message={notification}/>\n\t\t<Error message={error}/>\n\t\t<PersonFilter handleNewFilterChange={handleNewFilterChange} newFilter={newFilter}/>\n\t\t<h2>Add a new person</h2>\n\t\t<PersonForm \n\t\t\taddPerson={addPerson}\n\t\t\thandleNewPersonChange={handleNewPersonChange}\n\t\t\thandleNewNumberChange={handleNewNumberChange}\n\t\t\tnewName={newName}\n\t\t\tnewNumber={newNumber}\n\t\t/>\n\t\t<PersonList persons={giveFiltered()} deleteThisName={deleteNameFromPhonebook}/>\n\t  </div>\n\t)\n  \n  }\n  \n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}